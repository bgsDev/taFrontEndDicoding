{"version":3,"file":"app~e4317507.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/routes/index.js","webpack://restaurant-apps/./src/scripts/routes/url-parser.js","webpack://restaurant-apps/./src/scripts/utils/actionDetail.js","webpack://restaurant-apps/./src/scripts/utils/drawer-initiator.js","webpack://restaurant-apps/./src/scripts/utils/notification-helper.js"],"sourcesContent":["/* eslint-disable linebreak-style */\r\nimport pageHome from '../views/pages/home';\r\nimport pageAbout from '../views/pages/about';\r\nimport pageDetail from '../views/pages/detail';\r\nimport pageFavorite from '../views/pages/favorite';\r\n\r\nconst routes = {\r\n  '/': pageHome, // default page\r\n  '/home': pageHome,\r\n  '/favorite': pageFavorite,\r\n  '/my': pageAbout,\r\n  '/detail/:id': pageDetail,\r\n};\r\n\r\nexport default routes;\r\n","/* eslint-disable no-underscore-dangle */\nconst UrlParser = {\n  parseActiveUrlWithCombiner() {\n    const url = window.location.hash.slice(1).toLowerCase();\n    const splitedUrl = this._urlSplitter(url);\n    return this._urlCombiner(splitedUrl);\n  },\n\n  parseActiveUrlWithoutCombiner() {\n    const url = window.location.hash.slice(1).toLowerCase();\n    return this._urlSplitter(url);\n  },\n\n  _urlSplitter(url) {\n    const urlsSplits = url.split('/');\n    return {\n      resource: urlsSplits[1] || null,\n      id: urlsSplits[2] || null,\n      verb: urlsSplits[3] || null,\n    };\n  },\n\n  _urlCombiner(splitedUrl) {\n    return (splitedUrl.resource ? `/${splitedUrl.resource}` : '/')\n      + (splitedUrl.id ? '/:id' : '')\n      + (splitedUrl.verb ? `/${splitedUrl.verb}` : '');\n  },\n};\n\nexport default UrlParser;\n","// eslint-disable-next-line no-unused-vars\r\nimport FavoriteRestoIdb from '../data/idb';\r\nimport wscomponent from '../data/wscomponent';\r\nimport sfmodal from './sfLib/modal';\r\nimport * as sfPage from '../views/templates/sfPage';\r\n\r\nconst btn = {\r\n  async init({ idBtn, dt }) {\r\n    this.idBtn = idBtn;\r\n    this.dt = dt;\r\n    await this._renderButton();\r\n  },\r\n\r\n  async _renderButton() {\r\n    const { id } = this.dt;\r\n    if (await this._isMovieExist(id)) {\r\n      this._renderLiked();\r\n    } else {\r\n      this._renderLike();\r\n    }\r\n  },\r\n\r\n  async _isMovieExist(id) {\r\n    const movie = await FavoriteRestoIdb.get(id);\r\n    return !!movie;\r\n  },\r\n  _renderLike() {\r\n    this.idBtn.innerHTML = 'subscribe';\r\n    this.idBtn.addEventListener('click', async () => {\r\n      await FavoriteRestoIdb.put(this.dt);\r\n      this._renderButton();\r\n    });\r\n  },\r\n\r\n  _renderLiked() {\r\n    this.idBtn.innerHTML = 'unsubscribe';\r\n    this.idBtn.addEventListener('click', async () => {\r\n      await FavoriteRestoIdb.delete(this.dt.id);\r\n      this._renderButton();\r\n    });\r\n  },\r\n\r\n  async initReviuw({ idBtn }) {\r\n    this.breviuw = idBtn;\r\n    this.breviuw.addEventListener('click', async () => {\r\n      this.renderFormReview();\r\n      this.actEntriFormReviuw();\r\n    });\r\n  },\r\n  async renderFormReview() {\r\n    sfmodal.set({\r\n      title: 'Entri Review',\r\n      body: `\r\n        <input type=\"text\" id=\"username\" name=\"firstname\" placeholder=\"Your name..\">\r\n        <input type=\"text\" id=\"review\" name=\"review\" placeholder=\"review..\">\r\n      `,\r\n      footer: sfmodal._btnSaved({\r\n        id: 'bsaved',\r\n        text: 'tambahkan',\r\n        cls: 'blueLangit',\r\n      }),\r\n    });\r\n  },\r\n  async actEntriFormReviuw() {\r\n    const username = document.getElementById('username');\r\n    const review = document.getElementById('review');\r\n    const listReview = document.getElementById('listReview');\r\n    document.getElementById('bsaved').addEventListener('click', async () => {\r\n      const dtreview = await wscomponent.setReview({\r\n        id: this.dt.id,\r\n        name: username.value,\r\n        review: review.value,\r\n      });\r\n      listReview.innerHTML = sfPage.listReview(dtreview.customerReviews);\r\n      sfmodal.close();\r\n    });\r\n  },\r\n};\r\nexport default btn;\r\n","/* eslint-disable no-underscore-dangle */\nconst DrawerInitiator = {\n  init({ button, drawer, content }) {\n    button.addEventListener('click', (event) => {\n      this._toggleDrawer(event, drawer);\n    });\n\n    content.addEventListener('click', (event) => {\n      this._closeDrawer(event, drawer);\n    });\n  },\n\n  _toggleDrawer(event, drawer) {\n    event.stopPropagation();\n    drawer.classList.toggle('navOpen');\n  },\n\n  _closeDrawer(event, drawer) {\n    event.stopPropagation();\n    drawer.classList.remove('navOpen');\n  },\n};\n\nexport default DrawerInitiator;\n","const NotificationHelper = {\r\n  sendNotification({ title, options }) {\r\n    if (!this._checkAvailability()) {\r\n      console.log('Notification not supported in this browser');\r\n      return;\r\n    }\r\n\r\n    if (!this._checkPermission()) {\r\n      console.log('User did not yet granted permission');\r\n      this._requestPermission();\r\n      return;\r\n    }\r\n\r\n    this._showNotification({ title, options });\r\n  },\r\n\r\n  _checkAvailability() {\r\n    return 'Notification' in window;\r\n  },\r\n\r\n  _checkPermission() {\r\n    return Notification.permission === 'granted';\r\n  },\r\n\r\n  async _requestPermission() {\r\n    const status = await Notification.requestPermission();\r\n\r\n    if (status === 'denied') {\r\n      console.log('Notification Denied');\r\n    }\r\n\r\n    if (status === 'default') {\r\n      console.log('Permission closed');\r\n    }\r\n  },\r\n\r\n  async _showNotification({ title, options }) {\r\n    const serviceWorkerRegistration = await navigator.serviceWorker.ready;\r\n    serviceWorkerRegistration.showNotification(title, options);\r\n  },\r\n};\r\n\r\nexport default NotificationHelper;\r\n"],"names":["pageHome","pageFavorite","pageAbout","pageDetail","parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","this","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","split","resource","id","verb","i","init","idBtn","dt","_renderButton","_isMovieExist","_renderLiked","_renderLike","FavoriteRestoIdb","movie","innerHTML","addEventListener","initReviuw","breviuw","renderFormReview","actEntriFormReviuw","sfmodal","title","body","footer","text","cls","username","document","getElementById","review","listReview","wscomponent","name","value","dtreview","sfPage","customerReviews","button","drawer","content","event","_toggleDrawer","_closeDrawer","stopPropagation","classList","toggle","remove","sendNotification","options","_checkAvailability","_checkPermission","_showNotification","console","log","_requestPermission","Notification","permission","requestPermission","status","navigator","serviceWorker","ready","showNotification"],"sourceRoot":""}