{"version":3,"file":"app~e4317507.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/routes/index.js","webpack://restaurant-apps/./src/scripts/routes/url-parser.js","webpack://restaurant-apps/./src/scripts/utils/actionDetail.js","webpack://restaurant-apps/./src/scripts/utils/drawer-initiator.js","webpack://restaurant-apps/./src/scripts/utils/sfLib/modal.js","webpack://restaurant-apps/./src/scripts/utils/sw-register.js"],"sourcesContent":["/* eslint-disable linebreak-style */\r\nimport pageHome from '../views/pages/home';\r\nimport pageAbout from '../views/pages/about';\r\nimport pageDetail from '../views/pages/detail';\r\nimport pageFavorite from '../views/pages/favorite';\r\n\r\nconst routes = {\r\n  '/': pageHome, // default page\r\n  '/home': pageHome,\r\n  '/favorite': pageFavorite,\r\n  '/my': pageAbout,\r\n  '/detail/:id': pageDetail,\r\n};\r\n\r\nexport default routes;\r\n","/* eslint-disable no-underscore-dangle */\nconst UrlParser = {\n  parseActiveUrlWithCombiner() {\n    const url = window.location.hash.slice(1).toLowerCase();\n    const splitedUrl = this._urlSplitter(url);\n    return this._urlCombiner(splitedUrl);\n  },\n\n  parseActiveUrlWithoutCombiner() {\n    const url = window.location.hash.slice(1).toLowerCase();\n    return this._urlSplitter(url);\n  },\n\n  _urlSplitter(url) {\n    const urlsSplits = url.split('/');\n    return {\n      resource: urlsSplits[1] || null,\n      id: urlsSplits[2] || null,\n      verb: urlsSplits[3] || null,\n    };\n  },\n\n  _urlCombiner(splitedUrl) {\n    return (splitedUrl.resource ? `/${splitedUrl.resource}` : '/')\n      + (splitedUrl.id ? '/:id' : '')\n      + (splitedUrl.verb ? `/${splitedUrl.verb}` : '');\n  },\n};\n\nexport default UrlParser;\n","// eslint-disable-next-line no-unused-vars\r\nimport FavoriteRestoIdb from '../data/idb';\r\nimport wscomponent from '../data/wscomponent';\r\nimport sfmodal from './sfLib/modal';\r\nimport * as sfPage from '../views/templates/sfPage';\r\n\r\nconst btn = {\r\n  async init({ idBtn, dt }) {\r\n    this.idBtn = idBtn;\r\n    this.dt = dt;\r\n    await this._renderButton();\r\n  },\r\n\r\n  async _renderButton() {\r\n    const { id } = this.dt;\r\n    if (await this._isMovieExist(id)) {\r\n      this._renderLiked();\r\n    } else {\r\n      this._renderLike();\r\n    }\r\n  },\r\n\r\n  async _isMovieExist(id) {\r\n    const movie = await FavoriteRestoIdb.get(id);\r\n    return !!movie;\r\n  },\r\n  _renderLike() {\r\n    this.idBtn.innerHTML = 'subscribe';\r\n    this.idBtn.addEventListener('click', async () => {\r\n      await FavoriteRestoIdb.put(this.dt);\r\n      this._renderButton();\r\n    });\r\n  },\r\n\r\n  _renderLiked() {\r\n    this.idBtn.innerHTML = 'unsubscribe';\r\n    this.idBtn.addEventListener('click', async () => {\r\n      await FavoriteRestoIdb.delete(this.dt.id);\r\n      this._renderButton();\r\n    });\r\n  },\r\n\r\n  async initReviuw({ idBtn }) {\r\n    this.breviuw = idBtn;\r\n    this.breviuw.addEventListener('click', async () => {\r\n      this.renderFormReview();\r\n      this.actEntriFormReviuw();\r\n    });\r\n  },\r\n  async renderFormReview() {\r\n    sfmodal.set({\r\n      title: 'Entri Review',\r\n      body: `\r\n        <input type=\"text\" id=\"username\" name=\"firstname\" placeholder=\"Your name..\">\r\n        <input type=\"text\" id=\"review\" name=\"review\" placeholder=\"review..\">\r\n      `,\r\n      footer: sfmodal._btnSaved({\r\n        id: 'bsaved',\r\n        text: 'tambahkan',\r\n        cls: 'blueLangit',\r\n      }),\r\n    });\r\n  },\r\n  async actEntriFormReviuw() {\r\n    const username = document.getElementById('username');\r\n    const review = document.getElementById('review');\r\n    const listReview = document.getElementById('listReview');\r\n    document.getElementById('bsaved').addEventListener('click', async () => {\r\n      const dtreview = await wscomponent.setReview({\r\n        id: this.dt.id,\r\n        name: username.value,\r\n        review: review.value,\r\n      });\r\n      listReview.innerHTML = sfPage.listReview(dtreview.customerReviews);\r\n      sfmodal.close();\r\n    });\r\n  },\r\n};\r\nexport default btn;\r\n","/* eslint-disable no-underscore-dangle */\nconst DrawerInitiator = {\n  init({ button, drawer, content }) {\n    button.addEventListener('click', (event) => {\n      this._toggleDrawer(event, drawer);\n    });\n\n    content.addEventListener('click', (event) => {\n      this._closeDrawer(event, drawer);\n    });\n  },\n\n  _toggleDrawer(event, drawer) {\n    event.stopPropagation();\n    drawer.classList.toggle('navOpen');\n  },\n\n  _closeDrawer(event, drawer) {\n    event.stopPropagation();\n    drawer.classList.remove('navOpen');\n  },\n};\n\nexport default DrawerInitiator;\n","import CONFIG from '../../globals/config';\r\n\r\nconst sfmodal = {\r\n  // eslint-disable-next-line object-curly-newline\r\n  async init({ id }) {\r\n    this.id = (id === undefined ? CONFIG.MODAL : id);\r\n    this.xloading = false;\r\n    // title, btnClose, body, footer\r\n    this.title = document.getElementById('bmodalTitle');\r\n    this.btnClose = document.getElementById('bmodalClose');\r\n    this.body = document.getElementById('bmodalBody');\r\n    this.footer = document.getElementById('bmodalfooter');\r\n    this.btnFooter = document.getElementById('btnFooter');\r\n\r\n    this.content = document.getElementById('bmodalContent');\r\n    this.modal = document.getElementById(this.id);\r\n\r\n    this.btnClose.addEventListener('click', async () => {\r\n      this.modal.style.display = 'none';\r\n    });\r\n  },\r\n  async set({ title, body, footer }) {\r\n    this.title.innerHTML = title;\r\n    this.body.innerHTML = body;\r\n    this.footer.innerHTML = (footer === undefined ? this._btnClose() : footer);\r\n    this.modal.style.display = 'block';\r\n\r\n    this.btnClose1 = document.getElementById('bmodalClose1');\r\n    this.btnClose1.addEventListener('click', async () => {\r\n      this.modal.style.display = 'none';\r\n    });\r\n  },\r\n  _btnClose() {\r\n    // eslint-disable-next-line quotes\r\n    return `<button id=\"bmodalClose1\">Close</button>`;\r\n  },\r\n  _btnSaved(v) {\r\n    // eslint-disable-next-line quotes\r\n    return `<button id=\"${v.id}\" class=\"${v.cls}\">${v.text}</button> <button id=\"bmodalClose1\">Close</button>`;\r\n  },\r\n\r\n  async loading() {\r\n    this.btnClose.style.display = 'none';\r\n    this.title.style.display = 'none';\r\n    // this.body.innerHTML = '<img src=\"ffmpeg/load.mp4\" width=\"100\">';\r\n    this.body.innerHTML = `\r\n      <video autoplay loop muted playsinline width='100'>\r\n        <source src=\"ffmpeg/load.webm\" type=\"video/webm\">\r\n        <source src=\"ffmpeg/load.mp4\" type=\"video/mp4\">\r\n      </video>\r\n    `;\r\n\r\n    this.body.style.textAlign = 'center';\r\n    this.body.style.borderTop = 'none';\r\n\r\n    this.footer.style.display = 'none';\r\n\r\n    this.modal.style.display = 'block';\r\n\r\n    this.content.style.border = 'none';\r\n    this.content.style.background = 'none';\r\n    this.xloading = true;\r\n  },\r\n  async close() {\r\n    setTimeout(() => {\r\n      this.modal.style.display = 'none';\r\n      if (this.xloading) {\r\n        this.btnClose.style.display = 'unset';\r\n        this.title.style.display = 'unset';\r\n        this.body.innerHTML = '';\r\n\r\n        this.body.style.textAlign = 'none';\r\n        this.body.style.borderTop = '1px solid #888';\r\n\r\n        this.footer.style.display = 'unset';\r\n\r\n        this.content.style.border = '1px solid #888;';\r\n        this.content.style.background = 'white';\r\n\r\n        this.xloading = false;\r\n      }\r\n    }, 1000);\r\n  },\r\n};\r\nexport default sfmodal;\r\n","import * as WorkboxWindow from 'workbox-window';\r\n\r\nconst swRegister = async () => {\r\n  if (!('serviceWorker' in navigator)) {\r\n    console.log('Service Worker not supported in the browser');\r\n    return;\r\n  }\r\n\r\n  // try {\r\n  //   await navigator.serviceWorker.register('./sw.bundle.js');\r\n  //   console.log('Service worker registered');\r\n  // } catch (error) {\r\n  //   console.log('Failed to register service worker', error);\r\n  // } script awal sebelum menggunakan workbox\r\n  const wb = new WorkboxWindow.Workbox('./sw.bundle.js');\r\n\r\n  try {\r\n    await wb.register();\r\n    console.log('Service worker registered');\r\n  } catch (error) {\r\n    console.log('Failed to register service worker', error);\r\n  }\r\n};\r\n\r\nexport default swRegister;\r\n"],"names":["pageHome","pageFavorite","pageAbout","pageDetail","parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","this","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","split","resource","id","verb","i","init","idBtn","dt","_renderButton","_isMovieExist","_renderLiked","_renderLike","FavoriteRestoIdb","movie","innerHTML","addEventListener","initReviuw","breviuw","renderFormReview","actEntriFormReviuw","sfmodal","title","body","footer","text","cls","username","document","getElementById","review","listReview","wscomponent","name","value","dtreview","sfPage","customerReviews","button","drawer","content","event","_toggleDrawer","_closeDrawer","stopPropagation","classList","toggle","remove","undefined","CONFIG","xloading","btnClose","btnFooter","modal","style","display","set","_btnClose","btnClose1","_btnSaved","v","loading","textAlign","borderTop","border","background","close","setTimeout","navigator","console","log","wb","WorkboxWindow","register"],"sourceRoot":""}